ifndef::imagesdir[:imagesdir: ../images]

[[section-context-and-scope]]
== Kontext und Abgrenzung

Dieses Kapitel beschreibt das Umfeld des Puzzle-Simulators und grenzt ihn gegenüber Nachbarsystemen ab. Es zeigt die fachlichen und technischen Schnittstellen zu externen Akteuren sowie die klare Definition, was der Simulator leistet und was nicht.

=== Fachlicher Kontext

[cols="1,3" options="header"]
|===
| Nachbarsystem | Schnittstelle

| **Entwickler**
| REST-API (`/generate`, `/solve-puzzle`, `/calibrate`) +
Steuert Generator und Solver über HTTP-Requests und GUI-Eingaben

| **Puzzle Generator**
| Erzeugt synthetische Puzzle-Bilder (4608×2592 px) mit simulierten Kamera-Imperfektionen für realitätsnahe Tests der Lösung des Puzzles

| **Physischer Puzzle-Roboter** +
(zukünftig)
| Übernimmt Solver-Algorithmen, wendet sie auf reale Kamera-Bilder an und berechnet Lage sowie Versatz. Diese Daten werden an die Steuerung der Motoren und des Greifers übergeben.

|===

=== Technischer Kontext (Simulator)

**Entwicklungs-/Test-Kontext mit selbst generierten Puzzles:**

[plantuml, format=svg]
....
@startuml
actor Entwickler

node "Puzzle Simulator" {
  [Generator API] as Gen
  [Solver API] as Solver
}

database "File System" as FS

Entwickler --> Gen : POST /generate
Gen --> FS : Puzzle-Bilder
Gen --> Entwickler : Simulierte Bilder

Entwickler --> Solver : POST /solve-puzzle
Solver --> FS : Visualisierungen
Solver --> Entwickler : Gelöstes Puzzle
@enduml
....

=== Technischer Kontext (phyisischer Roboter - zukünftig)

[plantuml, format=svg]
....
@startuml
node "Physischer Puzzle-Roboter" {
  [RaspberryPi Kamera] as Cam
  [Roboter-Steuerung] as RobotCtrl
  [Greifer/Motoren] as Hardware
}

node "Puzzle Solver (RaspberryPi 5)" {
  [Solver API] as Solver
}

database "File System" as FS

Cam --> Solver : Bild gespeichert\nPOST /solve-puzzle wird ausgelöst\n(Reales Puzzle-Bild)
Solver --> FS : Speichert Visualisierungen\n(optional)
Solver --> RobotCtrl : JSON Response:\n- Piece IDs\n- Positionen (x, y)\n- Rotationen der Teile
RobotCtrl --> Hardware : Bewegungsanweisungen:\n- Greife Teil A\n- Rotiere um B°\n- Platziere an (x, y)
@enduml
....

=== Abgrenzung

==== Was der Simulator **IST**

[cols="2,3" options="header"]
|===
| Funktion | Beschreibung

| **Software-Entwicklungsumgebung**
| Ermöglicht frühe Entwicklung und Test von Puzzle-Solver-Algorithmen ohne physische Hardware

| **Generator realistischer Test-Daten**
| Simuliert Kamera-Imperfektionen (Verzerrung, Schatten, etc.) für realitätsnahe Tests

| **Visualisierungs-Tool**
| Zeigt jeden Pipeline-Schritt (Segmentierung → Edge Detection → Matching → Solving) visuell

| **Reproduzierbares Test-System**
| Seed-basierte Generierung garantiert identische Puzzles

|===

==== Was der Simulator **NICHT IST**

[cols="2,3" options="header"]
|===
| Kein | Begründung

| **Ersatz für physische Tests**
| Generierte Bilder können reale Bedingungen nur approximieren (Reflexionen, Schatten)

| **Roboter-Steuerungssoftware**
| Keine Anbindung an Motoren, Greifer oder Hardware-Controller

| **Produktionsreife Lösung**
| Proof-of-Concept, nicht Wettbewerbsreif

|===
